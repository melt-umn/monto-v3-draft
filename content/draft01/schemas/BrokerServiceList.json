{
	"$schema": "http://json-schema.org/draft-06/schema#",
	"title": "BrokerServiceList",
	"type": "array",
	"items": { "$ref": "#/definitions/brokerService" },
	"definitions": {
		"brokerService": {
			"type": "object",
			"properties": {
				"id": { "$ref": "#/definitions/serviceId" },
				"name": { "type": "string" },
				"vendor": { "type": "string" },
				"products": {
					"type": "array",
					"items": { "$ref": "#/definitions/productName" }
				},
				"config": {
					"type": "object",
					"patternProperties": {
						".+": { "$ref": "#/definitions/config" }
					},
					"additionalProperties": false
				}
			},
			"required": ["id", "name", "products", "config"],
			"additionalProperties": false
		},
		"config": {
			// TODO
		},
		"productName": {
			"type": "string",
			"anyOf": [
				{ "$ref": "BuiltinProductName.json#" },
				{
					"type": "string",
					"pattern": "^[a-zA-Z][a-zA-Z0-9]*(\\.[a-zA-Z][a-zA-Z0-9]*)*/[a-zA-Z0-9\\._-]+$"
				}
			]
		},
		"serviceId": {
			"type": "string",
			"pattern": "^[a-zA-Z_][a-zA-Z0-9_]*(\\.[a-zA-Z_][a-zA-Z0-9_]*)*$"
		}
	}
}
